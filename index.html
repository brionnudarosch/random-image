from pathlib import Path

# HTML content with obfuscated image source testing
html_content = """
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta property="og:image" content="https://d2w9rnfcy7mm78.cloudfront.net/36604106/original_f43e33378ac407a11b73bc27fdc6deff.gif?1746935303?bc=0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>internet-web.site</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: white;
      color: black;
      font-size: 12px;
      overflow: hidden;
    }
    header, footer {
      position: fixed;
      width: 100%;
      text-align: center;
      z-index: 10;
      background: white;
    }
    header {
      top: 30px;
    }
    footer {
      bottom: 30px;
    }
    main {
      position: fixed;
      top: 80px;
      bottom: 80px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    img {
      max-width: 100%;
      max-height: 100%;
      cursor: pointer;
    }
    .footer-text {
      line-height: 1.6em;
    }
    a {
      color: black;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>internet-web.site</header>
  <main>
    <img id="randomImage" src="" alt="Random Image">
  </main>
  <footer>
    <div class="footer-text">
      LINK: <a id="imageLink" href="#" target="_blank">image source</a><br>
      <a href="https://brionnudarosch.com" target="_blank">internet-web.site curated by: brion nuda rosch</a>
    </div>
  </footer>
  <script>
    const fallbackImage = "https://d2w9rnfcy7mm78.cloudfront.net/36597569/original_e59e4c166450d10b725830771b55fb66.jpg?1746930932?bc=0";
    const encodedImages = [
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC85MzI2Mjc1L29yaWdpbmFsXzFmYWEyYTFjMWI5NGM5YWU0OTdlMjM3NzMzODcyOTAyLmpwZz8xNjA0MTEwMTAxP2JjPTA=", link: "https://www.are.na/block/9326275" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC81MjA0OTgvb3JpZ2luYWxfZjhmNTViYmYwOGViN2E3N2MyY2E4N2YxOTMwMjkuanBnPzE0NTI4OTMzMTE/YmM9MQ==", link: "https://www.are.na/block/520498" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC80MzQ3NjcwL29yaWdpbmFsXzg4ODA1YjUyYTQ1ZTZlODhiNDgxYzkyMTE0ZDI0NWM5LmpwZz8xNTU4OTkzMzEyP2JjPTE=", link: "https://www.are.na/block/4347670" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8yOTIyMzQwNC9vcmlnaW5hbF85NTBiZjA3N2NiYzQ3ZGRjZDE0YWI0Njg0OTUzMTNiYi5qcGc/MTcyMDA2NzU4NT9iYz0w", link: "https://www.are.na/block/29223404" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8yODA4NDEyOC9vcmlnaW5hbF84MDE5ODI1NGVhODYxNTk5ZGMxMWY5MTk3NTM4YTg0NC5qcGc/MTcxNTYzNjg2MT9iYz0w", link: "https://www.are.na/block/28084128" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8xNjA5OTM4MC9vcmlnaW5hbF84NDgzY2Y2MzZlZDFkOGFkZDcyM2QzZGU1NjYzOWIyNy5naWY/MTY1MDI2NDk4Mz9iYz0w", link: "https://www.are.na/block/16099380" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC82NTg1Njg4L29yaWdpbmFsXzdiODlkZjVkYmQ3NzA0MDJkNWYyOTUxMDdlYmYzZGE1LmpwZz8xNTg1MTY3Njg5P2JjPTA=", link: "https://www.are.na/block/6585688" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8zNTQ2NTg3MC9vcmlnaW5hbF84OTVlMWY3YjY4MWM5YzQzODlkZTYyODAyYzVhNGE5YS5naWY/MTc0MjgwMzc1Mz9iYz0w", link: "https://www.are.na/block/35465870" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8xNTE1NDUxL29yaWdpbmFsXzM1N2RiNjc0NmQ4ZDdkMDQ1Y2I2YTM0YjdjZmUxYWFhLmpwZz8xNTEzNTkzNTQ5P2JjPTE=", link: "https://www.are.na/block/1515451" },
      { src: "aHR0cHM6Ly9kMnc5cm5mY3k3bW03OC5jbG91ZGZyb250Lm5ldC8zNjYwNDEwNi9vcmlnaW5hbF9mNDNlMzMzNzhhYzQwN2ExMWI3M2JjMjdmZGM2ZGVmZi5naWY/MTc0NjkzNTMwMz9iYz0w", link: "https://www.are.na/block/36604106" }
    ];
    const decodedImages = encodedImages.map(item => ({
      src: atob(item.src),
      link: item.link
    }));

    let currentIndex = 0;
    const imageElement = document.getElementById('randomImage');
    const linkElement = document.getElementById('imageLink');

    function showImage(index) {
      imageElement.src = decodedImages[index].src;
      linkElement.href = decodedImages[index].link;
    }

    function nextImage() {
      currentIndex = (currentIndex + 1) % decodedImages.length;
      showImage(currentIndex);
    }

    imageElement.addEventListener('click', nextImage);
    imageElement.addEventListener('error', () => {
      imageElement.src = fallbackImage;
    });

    showImage(currentIndex);
  </script>
</body>
</html>
"""

# Save the file
output_path = Path("/mnt/data/index-test-v021-obfuscated.html")
output_path.write_text(html_content)

output_path.name
